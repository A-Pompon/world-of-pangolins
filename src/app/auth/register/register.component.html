<div class="container">
    <div class="register-container">
    <div class="hello-register">
      <h1>Bienvenue visiteur,</h1>
      <p>Veuillez renseigner les champs suivants :</p>
    </div>
    
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label>Nom d'utilisateur</label>
        <input
          type="text"
          formControlName="username"
          class="form-control"
          [class.is-invalid]="f['username'].invalid && (f['username'].touched || f['username'].dirty)"
        />
        <div *ngIf="(f['username'].touched || f['username'].dirty) && f['username'].errors" class="invalid-feedback">
          <div *ngIf="f['username'].errors['required']">Champ requis.</div>
          <div *ngIf="f['username'].errors['minlength']">
            Mini 3 caractères.
          </div>
          <div *ngIf="f['username'].errors['maxlength']">
            Max 20 caractères.
          </div>
        </div>
      </div>
  
      <div class="form-group">
        <label>Email</label>
        <input
          type="text"
          formControlName="email"
          class="form-control"
          [class.is-invalid]="f['email'].invalid && (f['email'].touched || f['email'].dirty)"
        />
        <div *ngIf="(f['email'].touched || f['email'].dirty) && f['email'].errors" class="invalid-feedback">
          <div *ngIf="f['email'].errors['required']">Champ requis.</div>
          <div *ngIf="f['email'].errors['email']">Email incorrect.</div>
        </div>
      </div>

      <div class="form-controle">
        <label [class.is-invalid]="f['role'].invalid && (f['role'].touched || f['role'].dirty)" for="role">Rôle</label>
        <div class="radio-register">
            <div class="radio">
                <input
                id="GUERRIER"
                type="radio"
                value="GUERRIER"
                name="role"
                formControlName="role"
                />
                <label class="radio-label" for="GUERRIER">Guerrier</label>
            </div>

            <div class="radio">
                <input
                id="ENCHANTEUR"
                type="radio"
                value="ENCHANTEUR"
                name="role"
                formControlName="role"
                />
                <label class="radio-label" for="ENCHANTEUR">Enchanteur</label>
            </div>

            <div class="radio">
                <input
                id="ESPION"
                type="radio"
                value="ESPION"
                name="role"
                formControlName="role"
                />
                <label class="radio-label" for="ESPION">Espion</label>
            </div>

            <div class="radio">
                <input
                id="ALCHIMISTE"
                type="radio"
                value="ALCHIMISTE"
                name="role"
                formControlName="role"
                />
                <label class="radio-label" for="ALCHIMISTE">Alchimiste</label>
            </div>

            <div class="radio">
                <input
                id="SORCIER"
                type="radio"
                value="SORCIER"
                name="role"
                formControlName="role"
                />
                <label class="radio-label" for="SORCIER">Sorcier</label>
            </div>

            <div [class.is-invalid]="f['role'].invalid && (f['role'].touched || f['role'].dirty)">
            </div>

            <div *ngIf="(f['role'].touched || f['role'].dirty) && f['role'].errors" class="invalid-feedback">
                <div *ngIf="f['role'].errors['required']">Cocher une élément.</div>
            </div>
        </div>
      </div>
  
      <div class="form-group">
        <label>Mot de passe</label>
        <input
          type="password"
          formControlName="password"
          class="form-control"
          [class.is-invalid]="f['password'].invalid && (f['password'].touched || f['password'].dirty)"
        />
        <div *ngIf="(f['password'].touched || f['password'].dirty) && f['password'].errors" class="invalid-feedback">
          <div *ngIf="f['password'].errors['required']">Champ requis.</div>
          <div *ngIf="f['password'].errors['minlength']">
            Min 8 caractères.
          </div>
          <div *ngIf="f['password'].errors['pattern']">
            Doit contenir une majuscule, un chiffre et un caractère spécial.
          </div>
        </div>
      </div>
  
      <div class="form-group">
        <label>Mot de passe</label>
        <input
          type="password"
          formControlName="confirmPassword"
          class="form-control"
          [class.is-invalid]="f['confirmPassword'].invalid && (f['confirmPassword'].touched || f['confirmPassword'].dirty)"
        />
        <div
          *ngIf="(f['confirmPassword'].touched || f['confirmPassword'].dirty) && f['confirmPassword'].errors"
          class="invalid-feedback"
        >
          <div *ngIf="f['confirmPassword'].errors['required']">
            Champ requis.
          </div>
          <div *ngIf="f['confirmPassword'].errors['matching']">
            Mot de passe incorrect.
          </div>
        </div>
      </div>

      <div class="form-group button">
        <div class="first-button">
          <button type="submit" [hidden]="!form.valid" class="btn primary">S'inscrire</button>
        </div>
        <div class="login">
          <a (click)="goLogin()">Vous avez déjà un compte ? Connectez-vous.</a>
        </div>
      </div>

      <div class="alert alert-warning" *ngIf="submitted && isSignUpFailed">
        {{ errorMessage }}
      </div>
    </form>
  </div>
</div>